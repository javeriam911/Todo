<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      

        ;


        ;
    </style>
</head>

<body>

    <fieldset>

        <input type="text" name="todo" id="todo">
        <button class="image" id="add" onclick="addtodo()">add
          
        </button> <button onclick="deleteAll()">deleteAll</button>
        <div id="todoItems">

        </div>
    </fieldset>

</body>
<script>
    let todo = document.getElementById('todo');
    let todoItems = document.getElementById('todoItems');
    let todoList = [];
    let add = document.getElementById("add")
    let edit;

    function deleteAll() {
        todoItems.innerHTML = ""
    }
    function addtodo() {
        todoList.push(todo.value);
        todo.value = "";
        renderingList()
    }
    function renderingList() {
        todoItems.innerHTML = ""
        for (let i = 0; i < todoList.length; i++) {
            ;
            let div = document.createElement('div');
            let span = document.createElement('span');
            let spanText = document.createTextNode(todoList[i]);

            let dltBtn = document.createElement("button");
            let delText = document.createTextNode("delete");
            dltBtn.setAttribute("onclick", 'deleteTodo(' + i + ')')


            dltBtn.appendChild(delText)


            let editBtn = document.createElement("button");
            let editText = document.createTextNode("edit");
            editBtn.setAttribute("onclick", 'editTodo(' + i + ')')
            editBtn.appendChild(editText)


            dltBtn.appendChild(delText)

            span.appendChild(spanText);
            span.appendChild(dltBtn)
            span.appendChild(editBtn)
            div.appendChild(span);
            todoItems.appendChild(div)
        }
    };
    function editTodo(todoIndex) {
        edit = todoIndex
        todo.value = todoList[todoIndex];
        add.innerHTML = "save";
        add.setAttribute("onclick", 'saveTodo()')

    }
    function saveTodo() {
        todoList.splice(edit, 1, todo.value)
        todo.value = "";
        renderingList();
        add.innerHTML = "add"
        add.setAttribute("onclick", 'addtodo()')
    };
    function deleteTodo(deleted) {

        todoList.splice(deleted, 1); renderingList()
    }

</script>


</html>